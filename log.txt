log

(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -m src.baselines.linear_probe   --paths configs/paths.yaml   --task_cfg configs/coco_10cls.yaml   --backbone "ViT-B-16"   --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16"   --epochs 5 --batch_size 128 --lr 1e-3   --save_dir outputs/linear_probe --use_cache
2025-10-10 18:32:32.060 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-10 18:32:32.060 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-10 18:32:32.060 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-10 18:32:32.060 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-10 18:32:32.060 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-10 18:32:32.060 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-10 18:32:32.060 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-10 18:32:32.061 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-10 18:32:32.061 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-10 18:32:32.061 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-10 18:32:32.061 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-10 18:32:32.061 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-10 18:32:32.061 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-10 18:32:32.061 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-10 18:32:32.061 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-10 18:32:32.061 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-10 18:32:32.062 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-10 18:32:32.062 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-10 18:32:32.062 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-10 18:32:32.062 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0
2025-10-10 18:32:32.062 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-10 18:32:32.062 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-10 18:32:32.062 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-10 18:32:34.088 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取train特征
2025-10-10 18:53:25.393 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取train特征, 耗时 1251.30 秒
2025-10-10 18:53:25.621 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取val特征
2025-10-10 18:56:57.386 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取val特征, 耗时 211.76 秒
Epoch 1: val_loss=0.3510 top1=0.8893 top5=0.9957
Epoch 2: val_loss=0.3144 top1=0.8977 top5=0.9963
Epoch 3: val_loss=0.3021 top1=0.9015 top5=0.9965
Epoch 4: val_loss=0.2958 top1=0.9039 top5=0.9968
Epoch 5: val_loss=0.2926 top1=0.9038 top5=0.9971
Traceback (most recent call last):
  File "/ssd-data/anaconda3/envs/fcdc/lib/python3.10/runpy.py", line 196, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/ssd-data/anaconda3/envs/fcdc/lib/python3.10/runpy.py", line 86, in _run_code
    exec(code, run_globals)
  File "/big-data/person/xiaozeyu/FSDC/feature-compress-incremental/src/baselines/linear_probe.py", line 136, in <module>
    main()  # 执行主函数
  File "/big-data/person/xiaozeyu/FSDC/feature-compress-incremental/src/baselines/linear_probe.py", line 131, in main
    plot_confusion(confusion, class_names, args.save_dir / 'confusion_linear.png')  # 绘制混淆矩阵
  File "/big-data/person/xiaozeyu/FSDC/feature-compress-incremental/src/utils/metrics.py", line 41, in plot_confusion
    ax.set_xticklabels(class_names, rotation=45, ha='right')  # 设置横轴标签
  File "/ssd-data/anaconda3/envs/fcdc/lib/python3.10/site-packages/matplotlib/axes/_base.py", line 74, in wrapper
    return get_method(self)(*args, **kwargs)
  File "/ssd-data/anaconda3/envs/fcdc/lib/python3.10/site-packages/matplotlib/axis.py", line 2106, in set_ticklabels
    raise ValueError(
ValueError: The number of FixedLocator locations (11), usually from a call to set_ticks, does not match the number of labels (10).



(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -m src.train_initial \
>   --paths configs/paths.yaml \
>   --task_cfg configs/coco_10cls.yaml \
>   --backbone "ViT-B-16" \
>   --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16" \
>   --n_compress 32 \
>   --epochs 5 --batch_size 128 --lr 1e-3 \
>   --save_dir outputs/compress32_initial --use_cache

2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 32
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-10 19:50:52.771 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-10 19:50:52.772 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-10 19:50:52.772 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-10 19:50:52.772 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-10 19:50:52.772 | INFO     | src.utils.common:log_experiment_info:104 - dummy: False
2025-10-10 19:50:52.772 | INFO     | src.utils.common:log_experiment_info:104 - task_name: coco_task
2025-10-10 19:50:54.828 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-10 19:50:54.978 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
Epoch 1: train_loss=0.4610 val_loss=0.3126 top1=0.8977 top5=0.9961
Epoch 2: train_loss=0.2879 val_loss=0.2976 top1=0.9028 top5=0.9968
Epoch 3: train_loss=0.2731 val_loss=0.2902 top1=0.9060 top5=0.9968
Epoch 4: train_loss=0.2648 val_loss=0.2942 top1=0.9020 top5=0.9968
Epoch 5: train_loss=0.2602 val_loss=0.2922 top1=0.9043 top5=0.9967
(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ 
(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ 


(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -m src.add_class_incremental   --paths configs/paths.yaml   --task_cfg configs/coco_add_cls.yaml   --backbone "ViT-B-16"   --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16"   --resume_ckpt outputs/compress32_initial/best.ckpt   --n_compress 32   --epochs 1 --batch_size 128 --lr 1e-3   --save_dir outputs/compress32_addcls --use_cache
2025-10-14 01:14:20.891 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - new_class_ids: [4]
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - new_class_names: ['motorcycle']
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 32
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 1
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-14 01:14:20.892 | INFO     | src.utils.common:log_experiment_info:104 - task_name: add_class
2025-10-14 01:14:22.546 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-14 01:14:22.611 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取train_new特征
2025-10-14 01:14:29.332 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取train_new特征, 耗时 6.72 秒
2025-10-14 01:14:29.352 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
2025-10-14 01:14:29.374 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取val_new特征
2025-10-14 01:14:31.315 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取val_new特征, 耗时 1.94 秒
Epoch 1: top1=0.7898 top5=0.9829
(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ 




(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -m src.baselines.finetune_replay   --paths configs/paths.yaml   --task_cfg configs/coco_add_cls.yaml   --backbone "ViT-B-16"   --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16"   --resume_ckpt outputs/linear_probe/best.ckpt   --epochs 1 --batch_size 128 --lr 1e-3   --save_dir outputs/finetune_replay --use_cache
2025-10-14 01:59:30.620 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-14 01:59:30.620 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-14 01:59:30.620 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-14 01:59:30.620 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-14 01:59:30.620 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-14 01:59:30.620 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-14 01:59:30.620 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - new_class_ids: [4]
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - new_class_names: ['motorcycle']
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 1
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-14 01:59:30.621 | INFO     | src.utils.common:log_experiment_info:104 - replay_per_class: 5
2025-10-14 01:59:32.226 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-14 01:59:32.315 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取train_new特征
2025-10-14 01:59:39.048 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取train_new特征, 耗时 6.73 秒
2025-10-14 01:59:39.068 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
2025-10-14 01:59:39.090 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取val_new特征
2025-10-14 01:59:41.015 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取val_new特征, 耗时 1.93 秒
Epoch 1: top1=0.8658 top5=0.9944



(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -u -m src.baselines.linear_probe   --paths configs/paths.yaml   --task_cfg configs/coco_10cls.yaml   --backbone "ViT-B-16"   --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16"   --epochs 5 --batch_size 128 --lr 1e-3   --save_dir outputs/linear_probe --use_cache
2025-10-16 19:20:40.625 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 19:20:40.625 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 19:20:40.625 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 19:20:40.625 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 19:20:40.625 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 19:20:40.625 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 19:20:40.625 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 19:20:40.625 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 19:20:40.625 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 19:20:40.626 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 19:20:42.273 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取train特征
2025-10-16 19:22:50.760 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取train特征, 耗时 128.49 秒
2025-10-16 19:22:50.943 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取val特征
2025-10-16 19:23:15.824 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取val特征, 耗时 24.88 秒
Epoch 1: val_loss=0.3497 top1=0.8898 top5=0.9958
Epoch 2: val_loss=0.3143 top1=0.8965 top5=0.9959
Epoch 3: val_loss=0.3019 top1=0.9004 top5=0.9968
Epoch 4: val_loss=0.2954 top1=0.9028 top5=0.9972
Epoch 5: val_loss=0.2924 top1=0.9055 top5=0.9969
(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -u -m src.train_initial \
>   --paths configs/paths.yaml \
>   --task_cfg configs/coco_10cls.yaml \
>   --backbone "ViT-B-16" \
>   --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16" \
>   --n_compress 32 --epochs 5 --batch_size 128 --lr 1e-3 \
>   --save_dir outputs/compress32_initial --use_cache

2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 32
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - dummy: False
2025-10-16 19:27:58.554 | INFO     | src.utils.common:log_experiment_info:104 - task_name: coco_task
2025-10-16 19:28:00.202 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 19:28:00.274 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
Epoch 1: train_loss=0.4610 val_loss=0.3126 top1=0.8977 top5=0.9961
Epoch 2: train_loss=0.2879 val_loss=0.2976 top1=0.9028 top5=0.9968
Epoch 3: train_loss=0.2731 val_loss=0.2902 top1=0.9060 top5=0.9968
Epoch 4: train_loss=0.2648 val_loss=0.2942 top1=0.9020 top5=0.9968
Epoch 5: train_loss=0.2602 val_loss=0.2922 top1=0.9043 top5=0.9967


(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -u -m src.add_class_incremental \
>   --paths configs/paths.yaml \
>   --task_cfg configs/coco_add_cls.yaml \
>   --backbone "ViT-B-16" \
>   --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16" \
>   --resume_ckpt outputs/compress32_initial/best.ckpt \
>   --n_compress 32 --epochs 1 --batch_size 128 --lr 1e-3 \
>   --replay_per_class 5 \
>   --save_dir outputs/compress32_addcls --use_cache

2025-10-16 19:30:33.287 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - new_class_ids: [4]
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - new_class_names: ['motorcycle']
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 32
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 1
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 19:30:33.288 | INFO     | src.utils.common:log_experiment_info:104 - task_name: add_class
2025-10-16 19:30:34.957 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 19:30:35.049 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取train_new特征
2025-10-16 19:30:42.381 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取train_new特征, 耗时 7.33 秒
2025-10-16 19:30:42.402 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
2025-10-16 19:30:42.422 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取val_new特征
2025-10-16 19:30:44.409 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取val_new特征, 耗时 1.99 秒
Epoch 1: top1=0.7898 top5=0.9829


(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -u -m src.baselines.finetune_replay --paths configs/paths.yaml --task_cfg configs/coco_add_cls.yaml --backbone "ViT-B-16" --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16" --resume_ckpt outputs/compress32_initial/best.ckpt --n_compress 32 --epochs 1 --batch_size 128 --lr 1e-3 --replay_per_class 5 --save_dir outputs/finetune_replay --use_cache
usage: finetune_replay.py [-h] --paths PATHS --task_cfg TASK_CFG [--backbone BACKBONE] [--pretrained PRETRAINED] --resume_ckpt RESUME_CKPT
                          [--epochs EPOCHS] [--batch_size BATCH_SIZE] [--lr LR] [--weight_decay WEIGHT_DECAY] [--num_workers NUM_WORKERS] [--use_cache]
                          --save_dir SAVE_DIR [--seed SEED] [--replay_per_class REPLAY_PER_CLASS]
finetune_replay.py: error: unrecognized arguments: --n_compress 32
(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -u -m src.baselines.finetune_replay --paths configs/paths.yaml --task_cfg configs/coco_add_cls.yaml --backbone "ViT-B-16" --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16" --resume_ckpt outputs/linear_probe/best.ckpt --epochs 1 --batch_size 128 --lr 1e-3 --replay_per_class 5 --save_dir outputs/finetune_replay --use_cache
2025-10-16 19:49:06.415 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 19:49:06.415 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 19:49:06.415 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 19:49:06.415 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - new_class_ids: [4]
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - new_class_names: ['motorcycle']
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 1
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 19:49:06.416 | INFO     | src.utils.common:log_experiment_info:104 - replay_per_class: 5
2025-10-16 19:49:08.079 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 19:49:08.146 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取train_new特征
2025-10-16 19:49:14.945 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取train_new特征, 耗时 6.80 秒
2025-10-16 19:49:14.963 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
2025-10-16 19:49:14.984 | INFO     | src.utils.common:__enter__:87 - 开始计时: 提取val_new特征
2025-10-16 19:49:16.893 | INFO     | src.utils.common:__exit__:92 - 结束计时: 提取val_new特征, 耗时 1.91 秒
Epoch 1: top1=0.8601 top5=0.9944

(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -u -m src.baselines.lwf --paths configs/paths.yaml --task_cfg configs/coco_add_cls.yaml --backbone "ViT-B-16" --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16" --resume_ckpt outputs/linear_probe/best.ckpt --epochs 1 --batch_size 128 --lr 1e-3 --temperature 2.0 --alpha 0.7 --save_dir outputs/lwf --use_cache
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - new_class_ids: [4]
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - new_class_names: ['motorcycle']
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 1
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - temperature: 2.0
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - alpha: 0.7
2025-10-16 19:52:50.592 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 19:52:53.681 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train_new.pt
2025-10-16 19:52:53.719 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
2025-10-16 19:52:53.817 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val_new.pt
[LwF] Epoch 1: top1=0.8580 top5=0.9945


(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -u -m src.baselines.icarl --paths configs/paths.yaml --task_cfg configs/coco_add_cls.yaml --backbone "ViT-B-16" --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16" --resume_ckpt outputs/linear_probe/best.ckpt --epochs 1 --batch_size 128 --lr 1e-3 --memory_per_class 20 --save_dir outputs/icarl --use_cache
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - new_class_ids: [4]
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - new_class_names: ['motorcycle']
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 1
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - memory_per_class: 20
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - temperature: 2.0
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - alpha: 0.5
2025-10-16 19:57:33.214 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 19:57:36.084 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 19:57:36.249 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train_new.pt
2025-10-16 19:57:36.268 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
2025-10-16 19:57:36.304 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val_new.pt
[iCaRL] Epoch 1: top1=0.8605 top5=0.9942

(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ python -u -m src.baselines.foster --paths configs/paths.yaml --task_cfg configs/coco_add_cls.yaml --backbone "ViT-B-16" --pretrained "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16" --resume_ckpt outputs/linear_probe/best.ckpt --epochs 1 --batch_size 128 --lr 1e-3 --replay_per_class 10 --beta 0.5 --gamma 0.0 --save_dir outputs/foster --use_cache
2025-10-16 19:59:54.122 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - new_class_ids: [4]
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - new_class_names: ['motorcycle']
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 1
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - replay_per_class: 10
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - temperature: 2.0
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - beta: 0.5
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - gamma: 0.0
2025-10-16 19:59:54.123 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 19:59:56.417 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 19:59:56.589 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train_new.pt
2025-10-16 19:59:56.619 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
2025-10-16 19:59:56.653 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val_new.pt
[FOSTER] Epoch 1: top1=0.8603 top5=0.9944


(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ bash /big-data/person/xiaozeyu/FSDC/feature-compress-incremental/scripts/sweep_initial.sh \
>   configs/paths.yaml \
>   configs/coco_10cls.yaml \
>   "ViT-B-16" \
>   "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16" \
>   5 \
>   128 \
>   1e-3
[sweep_initial] running n_compress sweep: 2 4 8 10 16 32 64 128
[sweep_initial] -> n_compress=2, save_dir=outputs/compress2_initial
Traceback (most recent call last):
  File "/big-data/person/xiaozeyu/FSDC/feature-compress-incremental/src/train_initial.py", line 11, in <module>
    from .data.coco_cls import build_dataset, build_fake_dataset, read_class_map  # 导入数据集相关函数
ImportError: attempted relative import with no known parent package
(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ bash /big-data/person/xiaozeyu/FSDC/feature-compress-incremental/scripts/sweep_initial.sh   configs/paths.yaml   configs/coco_10cls.yaml   "ViT-B-16"   "/big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16"   5   128   1e-3
[sweep_initial] running n_compress sweep: 2 4 8 10 16 32 64 128
[sweep_initial] -> n_compress=2, save_dir=outputs/compress2_initial
2025-10-16 22:00:31.399 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 22:00:31.399 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 22:00:31.400 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 22:00:31.400 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 22:00:31.400 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 22:00:31.400 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 22:00:31.400 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 22:00:31.400 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 22:00:31.400 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 22:00:31.400 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 2
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 22:00:31.401 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 22:00:31.402 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 22:00:31.402 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 22:00:31.402 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 22:00:31.402 | INFO     | src.utils.common:log_experiment_info:104 - dummy: False
2025-10-16 22:00:31.402 | INFO     | src.utils.common:log_experiment_info:104 - task_name: coco_task
2025-10-16 22:00:34.466 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 22:00:34.603 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
Epoch 1: train_loss=1.1691 val_loss=0.7727 top1=0.7471 top5=0.9437
Epoch 2: train_loss=0.7199 val_loss=0.6670 top1=0.7896 top5=0.9602
Epoch 3: train_loss=0.6408 val_loss=0.6049 top1=0.8049 top5=0.9734
Epoch 4: train_loss=0.5872 val_loss=0.5686 top1=0.8218 top5=0.9780
Epoch 5: train_loss=0.5581 val_loss=0.5498 top1=0.8335 top5=0.9804
[sweep_initial] -> n_compress=4, save_dir=outputs/compress4_initial
2025-10-16 22:00:49.093 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 22:00:49.094 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 22:00:49.094 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 22:00:49.094 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 22:00:49.094 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 22:00:49.095 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 22:00:49.095 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 22:00:49.095 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 22:00:49.095 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 22:00:49.095 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 22:00:49.095 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-16 22:00:49.095 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-16 22:00:49.095 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-16 22:00:49.095 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 22:00:49.095 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 22:00:49.096 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 22:00:49.096 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 4
2025-10-16 22:00:49.096 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-16 22:00:49.096 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 22:00:49.096 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 22:00:49.096 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 22:00:49.096 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 22:00:49.096 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 22:00:49.096 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 22:00:49.096 | INFO     | src.utils.common:log_experiment_info:104 - dummy: False
2025-10-16 22:00:49.097 | INFO     | src.utils.common:log_experiment_info:104 - task_name: coco_task
2025-10-16 22:00:50.713 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 22:00:50.780 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
Epoch 1: train_loss=0.8324 val_loss=0.4778 top1=0.8544 top5=0.9855
Epoch 2: train_loss=0.4382 val_loss=0.4120 top1=0.8754 top5=0.9889
Epoch 3: train_loss=0.3947 val_loss=0.3921 top1=0.8815 top5=0.9893
Epoch 4: train_loss=0.3751 val_loss=0.3833 top1=0.8830 top5=0.9901
Epoch 5: train_loss=0.3629 val_loss=0.3767 top1=0.8861 top5=0.9906
[sweep_initial] -> n_compress=8, save_dir=outputs/compress8_initial
2025-10-16 22:01:04.885 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 22:01:04.886 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 22:01:04.886 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 22:01:04.886 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 22:01:04.886 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 22:01:04.886 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 22:01:04.886 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 22:01:04.886 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 22:01:04.887 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 22:01:04.887 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 22:01:04.887 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-16 22:01:04.887 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-16 22:01:04.887 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-16 22:01:04.887 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 22:01:04.887 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 22:01:04.887 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 22:01:04.887 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 8
2025-10-16 22:01:04.887 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-16 22:01:04.888 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 22:01:04.888 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 22:01:04.888 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 22:01:04.888 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 22:01:04.888 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 22:01:04.888 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 22:01:04.888 | INFO     | src.utils.common:log_experiment_info:104 - dummy: False
2025-10-16 22:01:04.888 | INFO     | src.utils.common:log_experiment_info:104 - task_name: coco_task
2025-10-16 22:01:06.494 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 22:01:06.582 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
Epoch 1: train_loss=0.6342 val_loss=0.3705 top1=0.8846 top5=0.9935
Epoch 2: train_loss=0.3335 val_loss=0.3207 top1=0.8976 top5=0.9947
Epoch 3: train_loss=0.2973 val_loss=0.3052 top1=0.9016 top5=0.9960
Epoch 4: train_loss=0.2824 val_loss=0.2991 top1=0.9022 top5=0.9959
Epoch 5: train_loss=0.2747 val_loss=0.2964 top1=0.9031 top5=0.9963
[sweep_initial] -> n_compress=10, save_dir=outputs/compress10_initial
2025-10-16 22:01:20.477 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 22:01:20.477 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 22:01:20.477 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 22:01:20.477 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 22:01:20.478 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 22:01:20.478 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 22:01:20.478 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 22:01:20.478 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 22:01:20.478 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 22:01:20.478 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 22:01:20.478 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-16 22:01:20.478 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-16 22:01:20.478 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-16 22:01:20.478 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 22:01:20.479 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 22:01:20.479 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 22:01:20.479 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 10
2025-10-16 22:01:20.479 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-16 22:01:20.479 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 22:01:20.479 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 22:01:20.479 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 22:01:20.479 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 22:01:20.479 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 22:01:20.479 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 22:01:20.480 | INFO     | src.utils.common:log_experiment_info:104 - dummy: False
2025-10-16 22:01:20.480 | INFO     | src.utils.common:log_experiment_info:104 - task_name: coco_task
2025-10-16 22:01:22.129 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 22:01:22.195 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
Epoch 1: train_loss=0.5906 val_loss=0.3530 top1=0.8909 top5=0.9942
Epoch 2: train_loss=0.3180 val_loss=0.3130 top1=0.8986 top5=0.9957
Epoch 3: train_loss=0.2886 val_loss=0.3006 top1=0.9020 top5=0.9962
Epoch 4: train_loss=0.2762 val_loss=0.2976 top1=0.9021 top5=0.9963
Epoch 5: train_loss=0.2685 val_loss=0.2936 top1=0.9033 top5=0.9964
[sweep_initial] -> n_compress=16, save_dir=outputs/compress16_initial
2025-10-16 22:01:36.873 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 22:01:36.874 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 22:01:36.874 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 22:01:36.874 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 22:01:36.874 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 22:01:36.874 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 22:01:36.874 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 22:01:36.874 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 16
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-16 22:01:36.875 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 22:01:36.876 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 22:01:36.876 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 22:01:36.876 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 22:01:36.876 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 22:01:36.876 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 22:01:36.876 | INFO     | src.utils.common:log_experiment_info:104 - dummy: False
2025-10-16 22:01:36.876 | INFO     | src.utils.common:log_experiment_info:104 - task_name: coco_task
2025-10-16 22:01:38.476 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 22:01:38.564 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
Epoch 1: train_loss=0.5240 val_loss=0.3314 top1=0.8944 top5=0.9955
Epoch 2: train_loss=0.2989 val_loss=0.3015 top1=0.9007 top5=0.9965
Epoch 3: train_loss=0.2781 val_loss=0.2948 top1=0.9031 top5=0.9967
Epoch 4: train_loss=0.2687 val_loss=0.2927 top1=0.9035 top5=0.9963
Epoch 5: train_loss=0.2621 val_loss=0.2926 top1=0.9031 top5=0.9967
[sweep_initial] -> n_compress=32, save_dir=outputs/compress32_initial
2025-10-16 22:01:51.575 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 22:01:51.576 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 22:01:51.576 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 22:01:51.576 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 22:01:51.576 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 22:01:51.576 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 22:01:51.576 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 22:01:51.576 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 22:01:51.576 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 32
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 22:01:51.577 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 22:01:51.578 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 22:01:51.578 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 22:01:51.578 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 22:01:51.578 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 22:01:51.578 | INFO     | src.utils.common:log_experiment_info:104 - dummy: False
2025-10-16 22:01:51.578 | INFO     | src.utils.common:log_experiment_info:104 - task_name: coco_task
2025-10-16 22:01:53.238 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 22:01:53.307 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
Epoch 1: train_loss=0.4610 val_loss=0.3126 top1=0.8977 top5=0.9961
Epoch 2: train_loss=0.2879 val_loss=0.2976 top1=0.9028 top5=0.9968
Epoch 3: train_loss=0.2731 val_loss=0.2902 top1=0.9060 top5=0.9968
Epoch 4: train_loss=0.2648 val_loss=0.2942 top1=0.9020 top5=0.9968
Epoch 5: train_loss=0.2602 val_loss=0.2922 top1=0.9043 top5=0.9967
[sweep_initial] -> n_compress=64, save_dir=outputs/compress64_initial
2025-10-16 22:02:07.636 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 22:02:07.637 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 22:02:07.637 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 22:02:07.637 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 22:02:07.637 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 22:02:07.637 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 22:02:07.637 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 22:02:07.637 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 22:02:07.637 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 22:02:07.638 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 22:02:07.638 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-16 22:02:07.638 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-16 22:02:07.638 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-16 22:02:07.638 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 22:02:07.638 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 22:02:07.638 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 22:02:07.638 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 64
2025-10-16 22:02:07.638 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-16 22:02:07.638 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 22:02:07.639 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 22:02:07.639 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 22:02:07.639 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 22:02:07.639 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 22:02:07.639 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 22:02:07.639 | INFO     | src.utils.common:log_experiment_info:104 - dummy: False
2025-10-16 22:02:07.639 | INFO     | src.utils.common:log_experiment_info:104 - task_name: coco_task
2025-10-16 22:02:09.284 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 22:02:09.350 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
Epoch 1: train_loss=0.4179 val_loss=0.3033 top1=0.9006 top5=0.9961
Epoch 2: train_loss=0.2833 val_loss=0.2946 top1=0.9033 top5=0.9968
Epoch 3: train_loss=0.2700 val_loss=0.2936 top1=0.9037 top5=0.9967
Epoch 4: train_loss=0.2638 val_loss=0.2902 top1=0.9048 top5=0.9966
Epoch 5: train_loss=0.2599 val_loss=0.2951 top1=0.9044 top5=0.9964
[sweep_initial] -> n_compress=128, save_dir=outputs/compress128_initial
2025-10-16 22:02:23.218 | INFO     | src.utils.common:log_experiment_info:102 - ===== 实验配置 =====
2025-10-16 22:02:23.218 | INFO     | src.utils.common:log_experiment_info:104 - coco_root: /big-data/dataset-academic/COCO/train2017
2025-10-16 22:02:23.219 | INFO     | src.utils.common:log_experiment_info:104 - annotation_file: /big-data/dataset-academic/COCO/annotations/instances_train2017.json
2025-10-16 22:02:23.219 | INFO     | src.utils.common:log_experiment_info:104 - train_list: /big-data/person/xiaozeyu/FSDC/indices/train_list.txt
2025-10-16 22:02:23.219 | INFO     | src.utils.common:log_experiment_info:104 - val_list: /big-data/person/xiaozeyu/FSDC/indices/val_list.txt
2025-10-16 22:02:23.219 | INFO     | src.utils.common:log_experiment_info:104 - new_train_list: /big-data/person/xiaozeyu/FSDC/indices/new_train_list.txt
2025-10-16 22:02:23.219 | INFO     | src.utils.common:log_experiment_info:104 - new_val_list: /big-data/person/xiaozeyu/FSDC/indices/new_val_list.txt
2025-10-16 22:02:23.219 | INFO     | src.utils.common:log_experiment_info:104 - class_map: /big-data/person/xiaozeyu/FSDC/indices/class_map.json
2025-10-16 22:02:23.219 | INFO     | src.utils.common:log_experiment_info:104 - cache_root: /big-data/person/xiaozeyu/FSDC/outputs/cache
2025-10-16 22:02:23.219 | INFO     | src.utils.common:log_experiment_info:104 - image_size: 224
2025-10-16 22:02:23.219 | INFO     | src.utils.common:log_experiment_info:104 - class_ids: [1, 3, 18, 17, 2, 6, 8, 9, 62, 15]
2025-10-16 22:02:23.219 | INFO     | src.utils.common:log_experiment_info:104 - class_names: ['person', 'car', 'dog', 'cat', 'bicycle', 'bus', 'truck', 'boat', 'chair', 'bench']
2025-10-16 22:02:23.220 | INFO     | src.utils.common:log_experiment_info:104 - compress_options: [16, 32, 64]
2025-10-16 22:02:23.220 | INFO     | src.utils.common:log_experiment_info:104 - use_patch: False
2025-10-16 22:02:23.220 | INFO     | src.utils.common:log_experiment_info:104 - train_ratio: 0.85
2025-10-16 22:02:23.220 | INFO     | src.utils.common:log_experiment_info:104 - split_seed: 42
2025-10-16 22:02:23.220 | INFO     | src.utils.common:log_experiment_info:104 - n_compress: 128
2025-10-16 22:02:23.220 | INFO     | src.utils.common:log_experiment_info:104 - epochs: 5
2025-10-16 22:02:23.220 | INFO     | src.utils.common:log_experiment_info:104 - batch_size: 128
2025-10-16 22:02:23.220 | INFO     | src.utils.common:log_experiment_info:104 - lr: 0.001
2025-10-16 22:02:23.220 | INFO     | src.utils.common:log_experiment_info:104 - weight_decay: 0.0001
2025-10-16 22:02:23.220 | INFO     | src.utils.common:log_experiment_info:104 - backbone: ViT-B-16
2025-10-16 22:02:23.221 | INFO     | src.utils.common:log_experiment_info:104 - pretrained: /big-data/person/xiaozeyu/DataDistillation/clip-vit-base-patch16
2025-10-16 22:02:23.221 | INFO     | src.utils.common:log_experiment_info:104 - use_cache: True
2025-10-16 22:02:23.221 | INFO     | src.utils.common:log_experiment_info:104 - dummy: False
2025-10-16 22:02:23.221 | INFO     | src.utils.common:log_experiment_info:104 - task_name: coco_task
2025-10-16 22:02:24.859 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_train.pt
2025-10-16 22:02:24.940 | INFO     | src.utils.common:load_feature_cache:68 - 加载缓存特征: /big-data/person/xiaozeyu/FSDC/outputs/cache/ViT-B-16_size224_val.pt
Epoch 1: train_loss=0.3840 val_loss=0.3000 top1=0.9016 top5=0.9964
Epoch 2: train_loss=0.2808 val_loss=0.2982 top1=0.9022 top5=0.9968
Epoch 3: train_loss=0.2696 val_loss=0.2977 top1=0.9027 top5=0.9968
Epoch 4: train_loss=0.2643 val_loss=0.2990 top1=0.9012 top5=0.9968
Epoch 5: train_loss=0.2607 val_loss=0.2968 top1=0.9015 top5=0.9965
(fcdc) xiaozeyu@GPU-4090-29:/big-data/person/xiaozeyu/FSDC/feature-compress-incremental$ 



